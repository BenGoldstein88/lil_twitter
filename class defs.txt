class User
  has_many :followings_as_follower, class_name: 'Following', foreign_key: :follower_id
  has_many :followings_as_followee, class_name: 'Following', foreign_key: :followee_id
  has_many :followers, through: :followings_as_followee
  has_many :followees, through: :followings_as_follower
end

class Followings
  belongs_to :follower, class_name: 'User', foreign_key: :follower_id
  belongs_to :followee, class_name: 'User', foreign_key: :followee_id
end

class Tweet
  belongs_to :user
end
